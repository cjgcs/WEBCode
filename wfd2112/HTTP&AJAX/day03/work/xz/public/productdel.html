<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title></title>
	</head>
	<body>
		<h4>商品列表</h4>
		<hr>
		<table border="1px" width='100%'>
			<thead>
				<tr>
					<th>编号</th>
					<th>名称</th>
					<th>单价</th>
					<th>操作</th>
				</tr>
			</thead>
			<tbody id="tb">
				<tr align="center">
					<td colspan="4">1</td>
				</tr>
			</tbody>
		</table>
		<input type="button" value="加载商品数据"> &nbsp;&nbsp;
		<select id="choose_page">
			<option value="10" selected>每页显示10条数据</option>
			<option value="5" >每页显示5条数据</option>
			<option value="15">每页显示15条数据</option>
			<option value="20">每页显示20条数据</option>
		</select>
	</body>
	
	<script>
		window.onload=function(){
			let ps=choose_page.value
			let xhr=new XMLHttpRequest()
			xhr.open('get','/v2/product/list?pageSize='+ps)
			xhr.onload=function(){
				let data=JSON.parse(xhr.responseText)
				
				
				let html=''
					for(let i=0;i<ps;i++){
					html+=`
					<tr>
						<td>${data[i].lid}</td>
						<td>${data[i].title}</td>
						<td>${data[i].price}</td>
						<td><input type='button' value='删除'></td>
					</tr>
					`
					tb.innerHTML=html
					}
				}
				xhr.send()	
				
				
				
				
			}
		
		
		
		
	</script>
	
	
	
</html>